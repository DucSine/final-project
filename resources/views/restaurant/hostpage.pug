extends ../layouts/rescommon.pug
block header
  link(rel='stylesheet' href='../../css/hostpage.css')
  nav.navbar.navbar-light.bg-primary
    a.navbar-brand(href='/res/hostpage')
      img(src='https://res.cloudinary.com/ducsine/image/upload/v1619047971/logo.png' width='200px' height='100px')
    .div-inline(style='width: 280px')
      a.notification(href='#')
        i.fa.fa-bell(style='font-size:30px;')
        span.badge 0
      img.avatar(src=restaurant.banner width='70px' height='70px')
      b  #{name} 
  .user-container
    a#a_usInfo.text-primary Thông tin cửa hàng
    a#a_usChangePass.text-primary Đổi mật khẩu
    button#btn_logout.btn.btn-danger Đăng xuất


  
  #accountInfo.modal.accountInfo-modal
    form.modal-content.accountInfo-modal-content.animate(action='/api/res/auth/editAccount' method='post' enctype='multipart/form-data' onsubmit='return accInfoSubmit()'  )
      div(style='background-color:#f1f1f1; text-align: center;')
        label.text-primary
          b(style='font-size: xx-large;') Thông tin cửa hàng
      .container
        .row(style='padding:16px')
          .col-sm-9
            .form-group
              label(for='ifrestaurantName')
                b Tên nhà hàng &nbsp;&nbsp;&nbsp;
                i.fas.fa-edit
              input#ifrestaurantName.form-control(type='text' name='restaurantName' placeholder='Nhập tên nhà hàng' value= restaurant.restaurantName disabled required='')

            .form-group
              label(for='')
                b Loại hình kinh doanh: 
                b#ifb_resTypeName #{resType.typeName} &nbsp;&nbsp;&nbsp;
                i.fas.fa-edit
              select(name='type' style='display:none ;width: 300px;' value=restaurant.type )
                option.dropdown-item(value= null) Chọn
                option.dropdown-item(value='606c29b97141a71498bd32d8') Quán bún, phở, hủ tiếu,...
                option.dropdown-item(value='606c29c27141a71498bd32d9') Quán cơm
                option.dropdown-item(value='606c29df7141a71498bd32da') Quán coffee, trà sữa,...
                option.dropdown-item(value='606c29fb7141a71498bd32db') Đồ ăn nhanh (bánh mỳ, fast foods,...)
                option.dropdown-item(value='606c2a067141a71498bd32dc') Đồ ăn vặt
                option.dropdown-item(value='60829a97c0f329750c092ee0') Khác
            .form-group
              label(for='')
                b Email
              p
                label#lb_email(for='')
                  b #{restaurant.email}
            .form-group
              label(for='ifphone')
                b Điện thoại &nbsp;&nbsp;&nbsp;
                i.fas.fa-edit
              input#ifphone.form-control(type='text' name='phone' pattern="(09|03|07|08|05)+([0-9]{8})" title='Số điện thoại không hợp lệ.' placeholder='Nhập số điện thoại' value= restaurant.phone disabled required='')
            .form-group
              label(for='ifaddress')
                b Địa chỉ &nbsp;&nbsp;&nbsp;
                i.fas.fa-edit
              input#ifaddress.form-control(type='text' name='address' placeholder='Nhập điạ chỉ' value=restaurant.address disabled required='')
          .col-sm-3
            .form-group
              img#ifshow_image.img.img-thumbnail.img-circle(width='300' height='300' src=restaurant.banner )
            .form-group
              input#ifimage.form-control(type='file' name='banner' accept='image/*')
        .form-group(style='padding-top: 24px; padding-left: 48px; padding-right: 48px;')
          span
            button.btn.btn-primary(type='submit') Cập nhật
          span(style='float: right')
            button.btn.btn-danger(type='button' onclick='accInfoCancel()') Thoát
      .container(style='background-color:#f1f1f1')
 
  #accountChangePass.modal.changepass-modal
    form.modal-content.changepassmodal-content.animate(action='api/res/auth/changePassword' onsubmit='return changePassSubmit()'  method='post')
      div(style='background-color:#f1f1f1; text-align: center;')
        label.text-primary
          b(style='font-size: xx-large;') Đổi mật khẩu
      .container
        .form-group
          label(for='cppassword')
            b Mật khẩu cũ
          input#cppassword.form-control(type='password' name='password' placeholder='Nhập mật khẩu cũ' pattern='[A-Za-z0-9]{8,30}' title='Mật khẩu không chứa ký tự đặc biệt, gồm 8-30 ký tự' required='')
        .form-group
          label(for='cpnewPassword')
            b Mật khẩu mới
          input#cpnewPassword.form-control(type='password' name='newPassword' placeholder='Nhập mật khẩu mới' pattern='[A-Za-z0-9]{8,30}' title='Mật khẩu không chứa ký tự đặc biệt, gồm 8-30 ký tự' required='')
        .form-group
          label(for='cppasswordConfirm')
            b Xác nhận mật khẩu
          input#cppasswordConfirm.form-control(type='password' name='passwordConfirm' placeholder='Nhập lại mật khẩu' pattern='[A-Za-z0-9]{8,30}' title='Mật khẩu không chứa ký tự đặc biệt, gồm 8-30 ký tự' required='')
      .form-group(style='padding: 32px 48px 32px 48px')
        span
          button.btn.btn-primary(type='submit') Cập nhật
        span(style='float: right')
          button.btn.btn-danger(type='button' onclick="document.getElementById('accountChangePass').style.display='none'") Thoát
      .container(style='background-color:#f1f1f1')
  
block sidebar
  h4 ResName
      ul.nav.nav-pills.flex-column
        li.nav-item
          a.nav-link.active(href='?load=hostpage') Trang chủ
        li.nav-item
          a.nav-link(href='?load=product') Sản Phẩm
        li.nav-item
          a.nav-link(href='?load=bill') Quản lý đơn hàng
        li.nav-item
          a.nav-link(href='?load=discount') Mã giảm giá

block content
  
  #divHostPage.div-content(style='padding-top:30px') sadasda
  .search-container(style="padding:30px")
    .form(style="float:right" onsubmit='return false' method='get')
      input#inputSearch(type="text" placeholder="Search.." name="keySearch")
      button(type="button" onclick='search()')
        i.fa.fa-search
  #divProduct.div-content(style='display:none;padding-top:30px')
    p#totalPage(style='display:none') #{fPageTotal}
    span
      | Tổng số sản phẩm: #{foodTotal}
    span(style='float: right; padding-right:30px')
      button.btn.btn-primary(type='button' style='float:right') Thêm sản phẩm

    ul#listProduct(style='list-style:none; padding:30px')
      each food in foods 
        li(onclick='showProductDetail(this.querySelector("p.foodId").textContent)')
          p.foodId(style='display:none') #{food._id}
          .media.border.p-1
            img.mr-3.mt-3.img-thumbnail(src=food.image style='width:80px;')
            .media-body
              label(style="font-size: x-large;")
                b #{food.foodName}
              i.fas.fa-star.text-warning(style="float: right;")
                b(style='color: black') #{food.rate}
              p 
                b Giá:&nbsp;#{food.price}đ
              p #{food.buys} lượt mua
  #divBillManager.div-content.container.mt-3(style='display:none')
      // Nav tabs
      ul.nav.nav-tabs
        li.nav-item
          a.nav-link.active(data-toggle='tab' href='#billWait')
            h4 Đang chờ
        li.nav-item
          a.nav-link(data-toggle='tab' href='#historyTransaction')
            h4 Lịch sử giao dịch
      // Tab panes
      .tab-content
        #billWait.container.tab-pane.active
          br
          h3 Đơn hàng mới: 
          p
            | Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
        #historyTransaction.container.tab-pane.fade
          br
          h3 Lịch sử giao dịch
          div(style='margin-right: 0px;')
            label(for='') Từ ngày:  &nbsp;
            input(type='date') 
            label(for='') &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Đến ngày: &nbsp;
            input(type='date') 
          p
            | Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
  #divDiscountCode.div-content(style='display:none;padding-top:30px') fdsfsd
  #divDirect(style='padding:30px;')
    span(style='padding-right:5px')
      button#btn_pre.btn.btn-primary(type='button' onclick='previousPage()') 
        i.fas.fa-angle-double-left
    span(style='padding-left:5px')
      button#btn_next.btn.btn-primary(type='button' onclick='nextPage()') 
        i.fas.fa-angle-double-right
  script(src='../../js/controller/res.hostpage.js')
  script(src='../../js/functions/res.hostpage.js')